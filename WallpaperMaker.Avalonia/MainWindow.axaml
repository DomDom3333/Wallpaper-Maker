<Window
    CanResize="True"
    Height="600"
    MinHeight="450"
    MinWidth="700"
    Title="Wallpaper Maker"
    Width="900"
    x:Class="WallpaperMaker.Avalonia.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <DockPanel Margin="10">
        <!--  Top toolbar  -->
        <StackPanel
            DockPanel.Dock="Top"
            Margin="0,0,0,8"
            Orientation="Horizontal"
            Spacing="8">
            <Button
                Click="BtnGenerate_Click"
                Content="Generate"
                Width="90"
                x:Name="BtnGenerate" />
            <Button
                Click="BtnSettings_Click"
                Content="Settings"
                Width="90"
                x:Name="BtnSettings" />
            <Button
                Click="BtnSave_Click"
                Content="Save Image"
                Width="90"
                x:Name="BtnSave" />
            <Button
                Click="BtnColors_Click"
                Content="Colors"
                Width="90"
                x:Name="BtnColors" />

            <Separator Margin="4,0" Width="1" />

            <TextBlock Text="Palette:" VerticalAlignment="Center" />
            <ComboBox
                SelectionChanged="CbPalette_SelectionChanged"
                Width="180"
                x:Name="CbPalette">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Spacing="4">
                            <TextBlock FontWeight="Bold" Text="{Binding Name}" />
                            <ItemsControl ItemsSource="{Binding ColorBrushes}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <StackPanel Orientation="Horizontal" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border
                                            Background="{Binding}"
                                            Height="12"
                                            Width="12" />
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
        </StackPanel>

        <!--  Resolution / multisampling bar  -->
        <StackPanel
            DockPanel.Dock="Top"
            Margin="0,0,0,8"
            Orientation="Horizontal"
            Spacing="8">
            <TextBlock Text="Width:" VerticalAlignment="Center" />
            <TextBox
                Text="1920"
                Width="70"
                x:Name="TbWidth" />
            <TextBlock Text="Height:" VerticalAlignment="Center" />
            <TextBox
                Text="1080"
                Width="70"
                x:Name="TbHeight" />

            <Button Click="BtnAutoDetect_Click" Content="Auto Detect" />

            <Separator Margin="4,0" Width="1" />

            <TextBlock Text="Supersampling:" VerticalAlignment="Center" />
            <ComboBox
                SelectedIndex="0"
                Width="70"
                x:Name="CbMultisampling" />
        </StackPanel>

        <!--  Status bar with progress  -->
        <Grid
            ColumnDefinitions="*,Auto"
            DockPanel.Dock="Bottom"
            Margin="0,4,0,0">
            <TextBlock
                Grid.Column="0"
                Text="Ready"
                VerticalAlignment="Center"
                x:Name="TxtStatus" />
            <ProgressBar
                Grid.Column="1"
                Height="16"
                IsIndeterminate="False"
                IsVisible="False"
                Maximum="100"
                Minimum="0"
                Width="120"
                x:Name="PbProgress" />
        </Grid>

        <!--  Preview image  -->
        <Border
            BorderBrush="Gray"
            BorderThickness="1"
            CornerRadius="4">
            <Image Stretch="Uniform" x:Name="ImgPreview" />
        </Border>
    </DockPanel>
</Window>

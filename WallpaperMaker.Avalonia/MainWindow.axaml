<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="WallpaperMaker.Avalonia.MainWindow"
        Title="Wallpaper Maker"
        Width="900" Height="600"
        MinWidth="700" MinHeight="450"
        CanResize="True">

    <DockPanel Margin="10">
        <!-- Top toolbar -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Spacing="8" Margin="0,0,0,8">
            <Button x:Name="BtnGenerate" Content="Generate" Click="BtnGenerate_Click" Width="90" />
            <Button x:Name="BtnSettings" Content="Settings" Click="BtnSettings_Click" Width="90" />
            <Button x:Name="BtnSave" Content="Save Image" Click="BtnSave_Click" Width="90" />
            <Button x:Name="BtnColors" Content="Colors" Click="BtnColors_Click" Width="90" />

            <Separator Width="1" Margin="4,0" />

            <TextBlock Text="Palette:" VerticalAlignment="Center" />
            <ComboBox x:Name="CbPalette" Width="160" SelectionChanged="CbPalette_SelectionChanged" />
        </StackPanel>

        <!-- Resolution / multisampling bar -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Spacing="8" Margin="0,0,0,8">
            <TextBlock Text="Width:" VerticalAlignment="Center" />
            <TextBox x:Name="TbWidth" Width="70" Text="1920" />
            <TextBlock Text="Height:" VerticalAlignment="Center" />
            <TextBox x:Name="TbHeight" Width="70" Text="1080" />

            <Button Content="Auto Detect" Click="BtnAutoDetect_Click" />

            <Separator Width="1" Margin="4,0" />

            <TextBlock Text="Supersampling:" VerticalAlignment="Center" />
            <ComboBox x:Name="CbMultisampling" Width="70" SelectedIndex="0" />
        </StackPanel>

        <!-- Status bar with progress -->
        <Grid DockPanel.Dock="Bottom" ColumnDefinitions="*,Auto" Margin="0,4,0,0">
            <TextBlock Grid.Column="0" x:Name="TxtStatus" Text="Ready" VerticalAlignment="Center" />
            <ProgressBar Grid.Column="1" x:Name="PbProgress" Width="120" Height="16"
                         IsIndeterminate="False" IsVisible="False" Minimum="0" Maximum="100" />
        </Grid>

        <!-- Preview image -->
        <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="4">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <Image x:Name="ImgPreview"
                       Stretch="Uniform"
                       StretchDirection="DownOnly" />
            </ScrollViewer>
        </Border>
    </DockPanel>
</Window>
